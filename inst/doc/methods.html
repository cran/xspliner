<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Krystian Igras" />

<meta name="date" content="2019-09-05" />

<title>Methods and xspliner environment</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Methods and xspliner environment</h1>
<h4 class="author">Krystian Igras</h4>
<h4 class="date">2019-09-05</h4>



<div id="predict" class="section level1">
<h1>Predict</h1>
<p>As xspliner final model is GLM, predict method is just wrapper of <code>stats::predict.glm</code> function. Let’s see it on the below example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(xspliner)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(randomForest)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">library</span>(magrittr)</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a>rf_iris &lt;-<span class="st"> </span><span class="kw">randomForest</span>(Petal.Width <span class="op">~</span><span class="st">  </span>Sepal.Length <span class="op">+</span><span class="st"> </span>Petal.Length <span class="op">+</span><span class="st"> </span>Species, <span class="dt">data =</span> iris)</span>
<span id="cb1-6"><a href="#cb1-6"></a>model_xs &lt;-<span class="st"> </span><span class="kw">xspline</span>(Petal.Width <span class="op">~</span><span class="st"> </span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="st">  </span>Sepal.Length <span class="op">+</span><span class="st"> </span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="st">  </span><span class="kw">xs</span>(Petal.Length, <span class="dt">effect =</span> <span class="kw">list</span>(<span class="dt">grid.resolution =</span> <span class="dv">100</span>), <span class="dt">transition =</span> <span class="kw">list</span>(<span class="dt">bs =</span> <span class="st">&quot;cr&quot;</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="st">  </span><span class="kw">xf</span>(Species, <span class="dt">transition =</span> <span class="kw">list</span>(<span class="dt">stat =</span> <span class="st">&quot;loglikelihood&quot;</span>, <span class="dt">value =</span> <span class="dv">-300</span>)),</span>
<span id="cb1-10"><a href="#cb1-10"></a>  <span class="dt">model =</span> rf_iris)</span>
<span id="cb1-11"><a href="#cb1-11"></a>newdata &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb1-12"><a href="#cb1-12"></a>  <span class="dt">Sepal.Length =</span> <span class="dv">10</span>, </span>
<span id="cb1-13"><a href="#cb1-13"></a>  <span class="dt">Petal.Length =</span> <span class="dv">2</span>, </span>
<span id="cb1-14"><a href="#cb1-14"></a>  <span class="dt">Species =</span> <span class="kw">factor</span>(<span class="st">&quot;virginica&quot;</span>, <span class="dt">levels =</span> <span class="kw">levels</span>(iris<span class="op">$</span>Species)))</span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="kw">predict</span>(model_xs, <span class="dt">newdata =</span> newdata)</span></code></pre></div>
<pre><code>##          1 
## -0.4880222</code></pre>
</div>
<div id="print" class="section level1">
<h1>Print</h1>
<p>Print method works similarly to the summary. In case of passing just the model, standard <code>print.glm</code> is used.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">print</span>(model_xs)</span></code></pre></div>
<pre><code>## 
## Call:  stats::glm(formula = Petal.Width ~ Sepal.Length + xs(Petal.Length) + 
##     xf(Species), family = family, data = data)
## 
## Coefficients:
##                    (Intercept)                    Sepal.Length  
##                        -1.9972                         -0.0134  
##               xs(Petal.Length)  xf(Species)versicolorvirginica  
##                         3.2188                         -0.7348  
## 
## Degrees of Freedom: 149 Total (i.e. Null);  146 Residual
## Null Deviance:       86.57 
## Residual Deviance: 5.188     AIC: -68.96</code></pre>
<div id="predictor-based-print" class="section level2">
<h2>Predictor based print</h2>
<p>Summary method allows you to check details about transformation of specific variable.</p>
<p>Standard usage <code>print(xspliner_object, variable_name)</code></p>
<p><em>Quantitative variable</em></p>
<p>When predictor is the quantitative variable its transition is based on GAM model. For this case print uses standard <code>print.gam</code> method.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">print</span>(model_xs, <span class="st">&quot;Petal.Length&quot;</span>)</span></code></pre></div>
<pre><code>## 
## Family: gaussian 
## Link function: identity 
## 
## Formula:
## yhat ~ s(Petal.Length, bs = &quot;cr&quot;)
## 
## Estimated degrees of freedom:
## 8.82  total = 9.82 
## 
## GCV score: 0.001747755</code></pre>
<p><em>Qualitative variable</em></p>
<p>In case of qualitative predictor, standard <code>print.factorMerger</code> method is used.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">print</span>(model_xs, <span class="st">&quot;Species&quot;</span>)</span></code></pre></div>
<pre><code>## Family: gaussian Factor Merger.
## 
## Factor levels were merged in the following order:
## 
##      groupA       groupB                     model   pvalVsFull   pvalVsPrevious
## ---  -----------  --------------------  ----------  -----------  ---------------
## 0                                        -262.1572            1                1
## 1    versicolor   virginica              -278.4864            0                0
## 2    setosa       versicolorvirginica    -354.2443            0                0</code></pre>
</div>
</div>
<div id="plot" class="section level1">
<h1>Plot</h1>
<p>You can see all details in <a href="./graphics.html">graphics</a></p>
</div>
<div id="transition" class="section level1">
<h1>Transition</h1>
<p>Transition method allows you to extract objects used during building transition of variables. There are three possible object types that can be extracted.</p>
<div id="extracting-effect" class="section level2">
<h2>Extracting effect</h2>
<p>Each transition is built on top of the black box response data. For example the default response for quantitative variables is PDP - for qualitative ones ICE.</p>
<p>In order to extract the effect use transition method with <code>type</code> parameter equals to data</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">transition</span>(model_xs, <span class="dt">predictor =</span> <span class="st">&quot;Petal.Length&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;data&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="st">  </span>head</span></code></pre></div>
<pre><code>##   Petal.Length      yhat
## 1     1.000000 0.7103410
## 2     1.059596 0.7102940
## 3     1.119192 0.7102940
## 4     1.178788 0.7139648
## 5     1.238384 0.7152855
## 6     1.297980 0.7179491</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">transition</span>(model_xs, <span class="dt">predictor =</span> <span class="st">&quot;Species&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;data&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="st">  </span>head</span></code></pre></div>
<pre><code>##      Species      yhat yhat.id
## 1     setosa 0.2433265       1
## 2 versicolor 0.6857316       1
## 3  virginica 0.8473016       1
## 4     setosa 0.2157995       2
## 5 versicolor 0.6870610       2
## 6  virginica 0.8488110       2</code></pre>
</div>
<div id="extracting-transition-model" class="section level2">
<h2>Extracting transition model</h2>
<p>After we built transition basing on continuity of variable specific model is created. In case of quantitative predictor we build GAM model in order to get spline approximation of effect. In case of qualitative predictor we build factorMerger object and get optimal factor division on that.</p>
<p>To extract the model, use transition method with <code>type = &quot;base&quot;</code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw">transition</span>(model_xs, <span class="dt">predictor =</span> <span class="st">&quot;Petal.Length&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;base&quot;</span>)</span></code></pre></div>
<pre><code>## 
## Family: gaussian 
## Link function: identity 
## 
## Formula:
## yhat ~ s(Petal.Length, bs = &quot;cr&quot;)
## 
## Estimated degrees of freedom:
## 8.82  total = 9.82 
## 
## GCV score: 0.001747755</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw">transition</span>(model_xs, <span class="dt">predictor =</span> <span class="st">&quot;Species&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;base&quot;</span>)</span></code></pre></div>
<pre><code>## Family: gaussian Factor Merger.
## 
## Factor levels were merged in the following order:
## 
##      groupA       groupB                     model   pvalVsFull   pvalVsPrevious
## ---  -----------  --------------------  ----------  -----------  ---------------
## 0                                        -262.1572            1                1
## 1    versicolor   virginica              -278.4864            0                0
## 2    setosa       versicolorvirginica    -354.2443            0                0</code></pre>
</div>
<div id="extracting-transition-function" class="section level2">
<h2>Extracting transition function</h2>
<p>The final result of building transition is transformation function, that is used in the final GLM model estimation.</p>
<p>To extract the function just use transition method with <code>type = &quot;function&quot;</code>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>petal_length_xs &lt;-<span class="st"> </span><span class="kw">transition</span>(model_xs, <span class="dt">predictor =</span> <span class="st">&quot;Petal.Length&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;function&quot;</span>)</span>
<span id="cb17-2"><a href="#cb17-2"></a>x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">7</span>, <span class="dt">length.out =</span> <span class="dv">50</span>)</span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="kw">plot</span>(x, <span class="kw">petal_length_xs</span>(x))</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>species_xf &lt;-<span class="st"> </span><span class="kw">transition</span>(model_xs, <span class="dt">predictor =</span> <span class="st">&quot;Species&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;function&quot;</span>)</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="kw">species_xf</span>(<span class="kw">c</span>(<span class="st">&quot;setosa&quot;</span>, <span class="st">&quot;versicolor&quot;</span>, <span class="st">&quot;virginica&quot;</span>))</span></code></pre></div>
<pre><code>## [1] setosa              versicolorvirginica versicolorvirginica
## Levels: setosa versicolorvirginica</code></pre>
</div>
</div>
<div id="summary" class="section level1">
<h1>Summary</h1>
<p>Summary method allows you to check the basic model details. See below what possibilities the method to xspliner model offers.</p>
<div id="glm-summary" class="section level2">
<h2>GLM summary</h2>
<p>Standard summary method is just wrapper for <code>summary::glm</code>. In order to use this just type:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="kw">summary</span>(model_xs)</span></code></pre></div>
<pre><code>## 
## Call:
## stats::glm(formula = Petal.Width ~ Sepal.Length + xs(Petal.Length) + 
##     xf(Species), family = family, data = data)
## 
## Deviance Residuals: 
##      Min        1Q    Median        3Q       Max  
## -0.68325  -0.07925  -0.02485   0.10265   0.50723  
## 
## Coefficients:
##                                Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)                    -1.99718    0.14136 -14.128  &lt; 2e-16 ***
## Sepal.Length                   -0.01340    0.03652  -0.367    0.714    
## xs(Petal.Length)                3.21878    0.22377  14.384  &lt; 2e-16 ***
## xf(Species)versicolorvirginica -0.73479    0.12926  -5.685  6.9e-08 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for gaussian family taken to be 0.03553466)
## 
##     Null deviance: 86.5699  on 149  degrees of freedom
## Residual deviance:  5.1881  on 146  degrees of freedom
## AIC: -68.96
## 
## Number of Fisher Scoring iterations: 2</code></pre>
</div>
<div id="predictor-based-summary" class="section level2">
<h2>Predictor based summary</h2>
<p>Summary method allows you to check details about transformation of specific variable.</p>
<p>Standard usage <code>summary(xspliner_object, variable_name)</code></p>
<p><em>Quantitative variable</em></p>
<p>When predictor is quantitative variable its transition is based on GAM model. For this case summary displays summary of that model.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="kw">summary</span>(model_xs, <span class="st">&quot;Petal.Length&quot;</span>)</span></code></pre></div>
<pre><code>## 
## Family: gaussian 
## Link function: identity 
## 
## Formula:
## yhat ~ s(Petal.Length, bs = &quot;cr&quot;)
## 
## Parametric coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  1.20307    0.00397     303   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Approximate significance of smooth terms:
##                   edf Ref.df     F p-value    
## s(Petal.Length) 8.816   8.99 637.1  &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## R-sq.(adj) =  0.983   Deviance explained = 98.5%
## GCV = 0.0017478  Scale est. = 0.0015762  n = 100</code></pre>
<p><em>Qualitative variable</em></p>
<p>In case of qualitative predictor, the method displays data.frame storing information how factors were merged during the transition.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="kw">summary</span>(model_xs, <span class="st">&quot;Species&quot;</span>)</span></code></pre></div>
<pre><code>##         orig                pred
## 1     setosa              setosa
## 2 versicolor versicolorvirginica
## 3  virginica versicolorvirginica</code></pre>
</div>
<div id="surrogate-vs-black-box-comparison" class="section level2">
<h2>Surrogate vs Black Box comparison</h2>
<p>Providing <code>model</code> parameter instead of <code>predictor</code>, the summary displays a few statistics that compares original model with surrogate one. All statistics definitions are included in <code>summary.xspline</code> documentation.</p>
<p>Here we show one example for classification model.</p>
<p>For this example we use <code>ISLR::Default</code> data and build svm model as black box. The model aims to predict <code>default</code> variable, indicating whether the customer defaulted on their debt.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="kw">library</span>(xspliner)</span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="kw">library</span>(e1071)</span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="kw">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb26-4"><a href="#cb26-4"></a>data &lt;-<span class="st"> </span>ISLR<span class="op">::</span>Default</span>
<span id="cb26-5"><a href="#cb26-5"></a>default.svm &lt;-<span class="st"> </span><span class="kw">svm</span>(default <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> data, <span class="dt">probability =</span> <span class="ot">TRUE</span>)</span>
<span id="cb26-6"><a href="#cb26-6"></a>default.xs &lt;-<span class="st"> </span><span class="kw">xspline</span>(default <span class="op">~</span><span class="st"> </span>student <span class="op">+</span><span class="st"> </span><span class="kw">xs</span>(balance) <span class="op">+</span><span class="st"> </span><span class="kw">xs</span>(income), <span class="dt">model =</span> default.svm)</span></code></pre></div>
<p>In order to check the summary, we need to specify prediction functions for each model. In this case predictions are probabilities of success:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>prob_svm &lt;-<span class="st"> </span><span class="cf">function</span>(object, newdata) <span class="kw">attr</span>(<span class="kw">predict</span>(object, <span class="dt">newdata =</span> newdata, <span class="dt">probability =</span> <span class="ot">TRUE</span>), <span class="st">&quot;probabilities&quot;</span>)[, <span class="dv">2</span>]</span>
<span id="cb27-2"><a href="#cb27-2"></a>prob_xs &lt;-<span class="st"> </span><span class="cf">function</span>(object, newdata) <span class="kw">predict</span>(object, <span class="dt">newdata =</span> newdata, <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)</span></code></pre></div>
<p>Almost each summary statistic compares models basing on some data.</p>
<p>In this case we’re going to compare models on training data providing:</p>
<ul>
<li><code>newdata</code> parameter as training data</li>
<li><code>model</code> parameter with black box model</li>
<li><code>prediction_funs</code> as a list of prediction functions (for surrogate and original model respectively)</li>
</ul>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="kw">summary</span>(default.xs, <span class="dt">model =</span> default.svm, <span class="dt">newdata =</span> data, <span class="dt">prediction_funs =</span> <span class="kw">list</span>(prob_xs, prob_svm))</span></code></pre></div>
<pre><code>## Models comparison 
##   1 - Max prediction normed-diff:  0.5268109 
##   R^2:  0.9185403</code></pre>
<pre><code>## Setting levels: control = No, case = Yes
## Setting levels: control = No, case = Yes</code></pre>
<pre><code>##   1 - Max ROC diff:  0.8712113 
##   1 - Mean ROC diff:  0.9506292</code></pre>
<p>Another set of statistics is generated for prediction functions that return response levels.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>response_svm &lt;-<span class="st"> </span><span class="cf">function</span>(object, newdata) <span class="kw">predict</span>(object, <span class="dt">newdata =</span> newdata)</span>
<span id="cb32-2"><a href="#cb32-2"></a>response_xs &lt;-<span class="st"> </span><span class="cf">function</span>(object, newdata) {</span>
<span id="cb32-3"><a href="#cb32-3"></a>  y_levels &lt;-<span class="st"> </span><span class="kw">levels</span>(newdata[[<span class="kw">environment</span>(object)<span class="op">$</span>response]])</span>
<span id="cb32-4"><a href="#cb32-4"></a>  <span class="kw">factor</span>(y_levels[(<span class="kw">predict.glm</span>(object, <span class="dt">newdata =</span> newdata, <span class="dt">type =</span> <span class="st">&quot;link&quot;</span>) <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>], <span class="dt">levels =</span> y_levels)</span>
<span id="cb32-5"><a href="#cb32-5"></a>}</span></code></pre></div>
<p>And similarly to previous example:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="kw">summary</span>(default.xs, <span class="dt">model =</span> default.svm, <span class="dt">newdata =</span> data, <span class="dt">prediction_funs =</span> <span class="kw">list</span>(response_xs, response_svm))</span></code></pre></div>
<pre><code>## Models comparison 
##   Mean predictions similarity:  0.9966 
##   ACC Black Box:  0.9719 
##   ACC Surrogate:  0.9729</code></pre>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
